extends ../layout

block content
  .container.mx-auto.px-4.py-8
    // Header
    .flex.items-center.justify-between.mb-8
      div
        h1.text-4xl.font-bold.mb-2
          i.fas.fa-spray-can.mr-3
          = perfume ? 'Chỉnh Sửa Sản Phẩm' : 'Thêm Sản Phẩm Mới'
        p.text-lg.opacity-70= perfume ? 'Cập nhật thông tin sản phẩm nước hoa' : 'Tạo sản phẩm nước hoa mới'
      a.btn.btn-ghost(href='/dashboard/perfumes')
        i.fas.fa-arrow-left.mr-2
        | Quay Lại

    .card.bg-base-100.shadow-xl
      .card-body
        form(method='post', action=action, class='grid grid-cols-1 md:grid-cols-2 gap-4')
          .form-control
            label.label(for='perfumeName')
              span.label-text
                i.fas.fa-spray-can.mr-2
                | Tên sản phẩm
            input.input.input-bordered.input-primary(type='text', id='perfumeName', name='perfumeName', placeholder='Nhập tên nước hoa...', required, value=perfume && perfume.perfumeName)
          
          .form-control
            label.label(for='brand')
              span.label-text
                i.fas.fa-tag.mr-2
                | Thương hiệu
            select.select.select-bordered(name='brand', id='brand', required)
              option(value='') -- Chọn thương hiệu --
              each b in brands
                option(value=b._id selected=(perfume && String(perfume.brand)===String(b._id)))= b.brandName
          
          .form-control
            label.label(for='uri')
              span.label-text
                i.fas.fa-image.mr-2
                | URL hình ảnh
            input.input.input-bordered(type='url', id='uri', name='uri', placeholder='https://example.com/image.jpg', required, value=perfume && perfume.uri)
          
          .form-control
            label.label(for='price')
              span.label-text
                i.fas.fa-dollar-sign.mr-2
                | Giá ($)
            input.input.input-bordered(type='number', step='0.01', id='price', name='price', placeholder='99.99', required, value=perfume && perfume.price)
          
          .form-control
            label.label(for='concentration')
              span.label-text
                i.fas.fa-flask.mr-2
                | Nồng độ
            input.input.input-bordered(type='text', id='concentration', name='concentration', placeholder='Extrait / EDP / EDT / EDC', required, value=perfume && perfume.concentration)
          
          .form-control
            label.label(for='volume')
              span.label-text
                i.fas.fa-vial.mr-2
                | Dung tích (ml)
            input.input.input-bordered(type='number', id='volume', name='volume', placeholder='50', required, value=perfume && perfume.volume)
          
          .form-control
            label.label(for='targetAudience')
              span.label-text
                i.fas.fa-venus-mars.mr-2
                | Đối tượng sử dụng
            select.select.select-bordered(name='targetAudience', id='targetAudience', required)
              option(value='male' selected=(perfume && perfume.targetAudience==='male')) Nam
              option(value='female' selected=(perfume && perfume.targetAudience==='female')) Nữ
              option(value='unisex' selected=(perfume && perfume.targetAudience==='unisex')) Unisex
          
          .form-control(class='md:col-span-2')
            label.label(for='description')
              span.label-text
                i.fas.fa-align-left.mr-2
                | Mô tả
            textarea.textarea.textarea-bordered(id='description', name='description', rows='4', placeholder='Mô tả chi tiết về sản phẩm...', required)= perfume && perfume.description
          
          .form-control(class='md:col-span-2')
            label.label(for='ingredients')
              span.label-text
                i.fas.fa-leaf.mr-2
                | Thành phần
            textarea.textarea.textarea-bordered(id='ingredients', name='ingredients', rows='3', placeholder='Liệt kê các thành phần chính...', required)= perfume && perfume.ingredients
          
          .flex.gap-3.justify-end(class='md:col-span-2')
            a.btn.btn-ghost(href='/dashboard/perfumes') Hủy
            button.btn.btn-primary(type='submit')
              i.fas.fa-save.mr-2
              = perfume ? 'Lưu Thay Đổi' : 'Tạo Sản Phẩm'
